<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v0.0.0-4193">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tavily AI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tavily AI Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">API Reference | Tavily AI</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.tavily.com/docs/python-sdk/tavily-hybrid-rag/api-reference"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="API Reference | Tavily AI"><meta data-react-helmet="true" name="description" content="Client"><meta data-react-helmet="true" property="og:description" content="Client"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.tavily.com/docs/python-sdk/tavily-hybrid-rag/api-reference"><link data-react-helmet="true" rel="alternate" href="https://docs.tavily.com/docs/python-sdk/tavily-hybrid-rag/api-reference" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.tavily.com/docs/python-sdk/tavily-hybrid-rag/api-reference" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1ffad903.css">
<link rel="preload" href="/assets/js/runtime~main.619d492a.js" as="script">
<link rel="preload" href="/assets/js/main.ae25c6ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/tavily.png" alt="Tavily" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/tavily-dark.png" alt="Tavily" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/welcome">Docs</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a href="https://community.tavily.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Developer Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="mailto:support@tavily.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://app.tavily.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Get API Key<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_CDc6"><kbd class="searchHint_2RRg">ctrl</kbd><kbd class="searchHint_2RRg">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/welcome">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Python SDK</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tavily Search</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Tavily Extract (beta)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Tavily Hybrid RAG (beta)</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python-sdk/tavily-hybrid-rag/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/python-sdk/tavily-hybrid-rag/api-reference">API Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/python-sdk/tavily-hybrid-rag/examples">Examples</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">REST API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">JavaScript SDK (Beta)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integrations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Use Cases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">GPT Researcher</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Reference</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="client">Client<a aria-hidden="true" class="hash-link" href="#client" title="Direct link to heading">â€‹</a></h2><p>The <code>TavilyHybridClient</code> class is your gateway to Tavily Hybrid RAG. There are a few important parameters to keep in mind when you are instantiating a Tavily Hybrid Client.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="constructor-parameters">Constructor parameters<a aria-hidden="true" class="hash-link" href="#constructor-parameters" title="Direct link to heading">â€‹</a></h3><ul><li><p><strong><code>api_key</code>: str</strong> - Your Tavily API Key</p></li><li><p><strong><code>db_provider</code>: str</strong> - Your database provider. Currently, only <code>&quot;mongodb&quot;</code> is supported.</p></li><li><p><strong><code>collection</code>: Collection</strong> - A reference to the MongoDB collection that will be used for local search.</p></li><li><p><strong><code>index</code>: str</strong> - The name of the vector index to be used for vector search on the specified <code>collection</code>.</p></li><li><p><strong><code>embeddings_field</code>: str (optional)</strong> - The name of the field that stores the embeddings in the specified collection. This field MUST be the same one used in the specified index. This will also be used when inserting web search results in the database using our default function. Default is <code>&quot;embeddings&quot;</code>.</p></li><li><p><strong><code>content_field</code>: str (optional)</strong> - The name of the field that stores the text content in the specified collection. This will also be used when inserting web search results in the database using our default function. Default is <code>&quot;content&quot;</code>.</p></li><li><p><strong><code>embedding_function</code>: function (optional)</strong> - A custom embedding function (if you want to use one). The function must take in a <code>list[str]</code> corresponding to the list of strings to be embedded, as well as an additional string defining the type of document. It must return a <code>list[list[float]]</code>, one embedding per input string. If no function is provided, defaults to Cohere&#x27;s Embed. Keep in mind that you shouldn&#x27;t mix different embeddings in the same database collection.</p></li><li><p><strong><code>ranking_function</code>: function (optional)</strong> - A custom ranking function (if you want to use one). If no function is provided, defaults to Cohere&#x27;s Rerank. It should return an ordered <code>list[dict]</code> where the documents are sorted by decreasing relevancy to your query. Each returned document will have two properties - <code>content</code>, which is a <code>str</code>, and <code>score</code>, which is a <code>float</code>. The fuction MUST accept the following parameters:</p><ul><li><strong><code>query</code>: str</strong> - This is the query you are executing. When your ranking function is called during Hybrid RAG, the <code>query</code> parameter of your <code>search</code> call (more details below) will be passed as <code>query</code>.</li><li><strong><code>documents</code> list<!-- -->[dict]<!-- -->: </strong> - This is the list of documents that are returned by your Hybrid RAG call and that you want to sort. Each document will have two properties - <code>content</code>, which is a <code>str</code>, and <code>score</code>, which is a <code>float</code>.</li><li><strong><code>top_n</code>: int</strong> - This is the number of results you want to return after ranking. When your ranking function is called during Hybrid RAG, the <code>max_results</code> value will be passed as <code>top_n</code>.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="methods">Methods<a aria-hidden="true" class="hash-link" href="#methods" title="Direct link to heading">â€‹</a></h2><ul><li><p><strong><code>search</code></strong>(query, max_results=10, max_local=None, max_foreign=None, save_foreign=False, **kwargs)</p><ul><li><p>Performs a Tavily Hybrid RAG query and returns the retrieved documents as a <code>list[dict]</code> where the documents are sorted by decreasing relevancy to your query. Each returned document will have three properties - <code>content</code> (<code>str</code>), <code>score</code> (<code>float</code>), and <code>origin</code>, which is either <code>local</code> or <code>foreign</code>.</p></li><li><p><strong>Core Parameters</strong></p><ul><li><strong><code>query</code>: str</strong> - The query you want to search for.</li><li><strong><code>max_results</code>: int</strong> - The maximum number of total search results to return. Default is <code>10</code>.</li><li><strong><code>max_local</code>: int</strong> - The maximum number of local search results to return. Default is <code>None</code>, which defaults to <code>max_results</code>.</li><li><strong><code>max_foreign</code>: int</strong> - The maximum number of web search results to return. Default is <code>None</code>, which defaults to <code>max_results</code>.</li><li><strong><code>save_foreign</code>: Union<!-- -->[bool, function]</strong> - Save documents from the web search in the local database. If <code>True</code> is passed, our default saving function (which only saves the content <code>str</code> and the embedding <code>list[float]</code> will be used.) If <code>False</code> is passed, no web search result documents will be saved in the local database. If a function is passed, that function MUST take in a <code>dict</code> as a parameter, and return another <code>dict</code>. The input <code>dict</code> contains all properties of the returned Tavily result object. The output dict is the final document that will be inserted in the database. You are free to add to it any fields that are supported by the database, as well as remove any of the default ones. <strong>If this function returns <code>None</code>, the document will not be saved in the database.</strong></li></ul></li><li><p><strong>Additional parameters</strong> can be provided as keyword arguments (detailed below). The keyword arguments supported by this method are: <code>search_depth</code>, <code>topic</code>, <code>include_raw_content</code>, <code>include_domains</code>, <code>exclude_domains</code>. Refer to the <a href="/docs/python-sdk/tavily-search/api-reference#keyword-arguments-optional">Tavily Search API Reference</a> for more information on these parameters.</p></li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tavily-ai/tavily-python/tree/master/docs/docs/python-sdk/tavily-hybrid-rag/api-reference.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/python-sdk/tavily-hybrid-rag/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Getting Started with Tavily Hybrid RAG</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/python-sdk/tavily-hybrid-rag/examples"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Examples<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#client" class="table-of-contents__link toc-highlight">Client</a><ul><li><a href="#constructor-parameters" class="table-of-contents__link toc-highlight">Constructor parameters</a></li></ul></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://community.tavily.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Developer Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/tavilyai" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/tavily/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items"><li class="footer__item"><a href="https://tavily.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://tavily.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Tavily Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:support@tavily.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Tavily.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.619d492a.js"></script>
<script src="/assets/js/main.ae25c6ad.js"></script>
</body>
</html>